---
# Будь ласка, не редагуйте цей файл безпосередньо; він згенерований автоматично.
# Замість цього, будь ласка, редагуйте 02-project-intro.md в каталозі _episodes_rmd/
title: "Управління проєктами за допомогою RStudio"
teaching: 10
exercises: 5
questions:
- "Як я можу керувати своїми проєктами в R?"
objectives:
- Створювати самодостатні проєкти в RStudio
keypoints:
- "Використовуйте RStudio для створення та управління проектами з послідовним макетом".
- "Розглядайте вихідні дані як доступні лише для читання".
- "Ставтеся до згенерованих даних як до одноразових".
source: Rmd
---



## Вступ

Науковий процес, природно, є поетапним, і багато проєктів починаються як
випадкові нотатки, трохи коду, потім рукопис і, зрештою, все потроху
змішане разом. Організація проєкту із використанням просторових даних нічим не відрізняється від
будь-якого іншого проєкту аналізу даних, хоча вам може знадобитися більше дискового простору, ніж
зазвичай.

<div class="text-center">
<blockquote class="twitter-tweet"><p>Управління вашими проєктами у відтворюваний спосіб не просто робить вашу науку відтворюваною, це полегшує вам життя.</p>— Vince Buffalo (@vsbuffalo) <a href="https://twitter.com/vsbuffalo/status/323638476153167872">15 квітня 2013 р.</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>

Більшість людей намагаються організовувати свої проєкти так:

![]({{ site.baseurl }}/fig/bad_layout.png)

Є багато причин чому ми *ЗАВЖДИ* повинні уникати цього:

1. Насправді важко визначити, яка версія ваших даних
є оригінальною, а яка модифікованою;
2. Настає певний хаос, оскільки змішуються файли з різними
розширеннями разом;
3. Можливо, це займає багато часу, щоб справді знайти речі
та віднести правильні зображення до коду,
який було використано для їх створення;

Хороша стуктура проєкту зрештою полегшить ваше життя:

* Це допоможе забезпечити цілісність ваших даних;
* Це спрощує поширення коду з кимось іншим
(лаборантом, співробітником або керівником);
* Це дозволяє вам легко завантажити ваш код із рукописом;
* Це полегшує відновлення проєкту після перерви.

## Можливе рішення

На щастя, існують інструменти та пакети, які можуть допомогти вам ефективно керувати роботою.

Одним із найпотужніших і найкорисніших аспектів RStudio є функціональне керування
проєктами. Ми будемо використовувати це сьогодні, щоб створити самодостатній та відтворюваний
проєкт.


> ## Виклик: Створення самодостатнього проєкту
>
> Ми збираємося створити новий проєкт в RStudio:
>
> 1. Натисніть кнопку меню "File" (Файл), потім "New Project" (Новий проєкт).
> 2. Натисніть "New Directory" (Новий каталог).
> 3. Натисніть "Empty Project" (Пустий проєкт).
> 4. Введіть "r-geospatial" (r-геопросторовий) як назву каталогу.
> 5. Натисніть кнопку "Create Project" (Створити проєкт).
{: .challenge}

Ключовою перевагою проєкту в RStudio є те, що коли б ми не відкрили проєкт в 
  наступній сесіїї RStudio, наш робочий каталог *завжди* буде встановлено в 
  каталозі `r-geospatial`.
Давайте перевіримо наш робочий каталог наступної команди в консоль R:

```r
getwd()
```

R має повернути `шлях/до/вашого/каталогу/r-geospatial` як робочий каталог.

## Кращі практики для організації проєкту

Хоча немає "кращого" способу організувати проєкт,  є декілька загальних
принципів, яких слід дотримуватись, щоб полегшити управління проєктом:

### Позначте дані як тільки для читання

Це, мабуть, найважливіша задача організації проєкту. Дані
як правило трудомісткі та/або дорогі для збирання. Робота з ними
в інтерактивній формі (наприклад, в Excel), де вони можуть бути змінені, означає, що ви ніколи
не впевнені, звідки з'явилися дані, або як вони були змінені із моменту збирання.
Тому хороша ідея позначити свої дані як тільки для читання ("read-only").

### Очищення даних

У багатьох випадках ваші дані будуть "брудними": вони потребуватимуть значної попередньої обробки
для отримання формату, який R (або будь-яка інша мова програмування) вважатиме корисним. Це
завдання іноді називають "очисткою даних". Я вважаю корисним зберігати ці скрипти
в окремому каталозі, і створити другий "тільки для читання" каталог для зберігання
"очищених" наборів даних.

### Трактувати згенероване виведення як одноразове

Будь-що, що генерується за допомогою ваших скриптів, повинно трактуватися як одноразове: воно повинно
все бути згенероване знову за допомогою ваших скриптів.

Існує багато різних способів керувати цим виведенням. Я вважаю корисним
мати каталог результатів з різними підкаталогами для кожного окремого
аналізу. Це полегшує подальшу роботу, оскільки багато з моїх аналізів є дослідницькими
і не будуть використані у фінальному проєкті, а деякі з аналізів
поширюються між проєктами.

### Зберігайте пов'язані дані разом

Деякі формати GIS-файлів насправді складаються з 3-6 файлів, які повинні зберігатися разом і мати однакову назву, 
наприклад, шейп-файли. Може виникнути спокуса зберігати ці компоненти окремо, 
але в такому випадку ваші просторові дані будуть непридатні для використання.

### Дотримуйтесь послідовної схеми іменування
Як правило, краще уникати перейменування завантажених просторових даних, 
щоб зберегти чіткий зв'язок з точкою істини. 
В іншому випадку у вас може виникнути питання, чи дійсно "файл_A" є просто копією "Офіційного_файлу_на_веб-сайті", чи ні.

Для наборів даних, які ви генеруєте, варто витратити час на те, щоб придумати угоду про імена, яка підходить для вашого проєкту, 
і дотримуватися її. Назви файлів не повинні бути довгими, вони мають бути достатньо довгими, щоб ви могли зрозуміти,
про що йдеться у файлі. Дата створення, тема, а також те, чи є продукт проміжним або кінцевим - це хороша інформація, яку варто зберігати
в назві файлу. Щоб отримати більше порад щодо іменування файлів, перегляньте [слайди з доповіді Дженні Брайан (Jenny Bryan) "Називаючи речі" на семінарі з відтворюваної науки 2015 року](https://speakerdeck.com/jennybc/how-to-name-files).

> ## Порада: Достатньо хороші практики для наукових обчислень
>
> [Достатньо хороші практики для наукових обчислень] (https://github.com/swcarpentry/good-enough-practices-in-scientific-computing/blob/gh-pages/good-enough-practices-for-scientific-computing.pdf) надає наступні рекомендації щодо організації проєкту:
>
> 1. Помістіть кожен проєкт у власний каталог, який називається на честь проєкту.
> 2. Текстові документи, пов'язані з проєктом, розміщуйте в каталозі `doc`.
> 3. Помістіть вихідні дані та метадані у каталог `data`, а файли, створені під час очищення та аналізу, - у каталог `results`.
> 4. Помістіть вихідні тексти скриптів і програм проєкту у каталог `rc`, а програми, принесені з інших джерел або скомпільовані локально - у каталог `bin`.
> 5. Назвіть усі файли відповідно до їхнього змісту або функцій.
{: .callout}

### Зберігайте дані в каталозі даних

Тепер у нас є хороша структура каталогів, і ми розмістимо/збережемо наші файли даних у каталозі `data/`.

> ## Завдання 1
> 1\. Завантажте кожен із файлів даних, наведених нижче (CTRL + S, клацніть правою кнопкою миші -> "Save as" (Зберегти як...), або File (Файл) -> "Save page as" (Зберегти сторінку як...))
> 
> - [дані північних країн](https://raw.githubusercontent.com/datacarpentry/r-intro-geospatial/master/_episodes_rmd/data/nordic-data.csv)
> - [дані північних країн (версія 2)](https://raw.githubusercontent.com/datacarpentry/r-intro-geospatial/master/_episodes_rmd/data/nordic-data-2.csv)
> - [дані gapminder](https://raw.githubusercontent.com/datacarpentry/r-intro-geospatial/master/_episodes_rmd/data/gapminder_data.csv)
> 
> 2\. Переконайтесь, що файли мають наступні назви:
> - `nordic-data.csv`
> - `nordic-data-2.csv`
> - `gapminder_data.csv`
>
> 3\. Збережіть файли в каталозі `data/` всередині вашого проєкту.
>
> Ми завантажимо і перевіримо ці дані пізніше.
{: .challenge}

> ## Завдання 2
> Також ми хочемо перемістити дані, які ми завантажили зі [сторінки за даними](http://datacarpentry.org/geospatial-workshop/data/) в підкаталог
> всередині `r-geospatial`. Якщо ви ще не завантажили дані, ви можете зробити це, натиснувши
> [це посилання для завантаження](https://ndownloader.figshare.com/articles/2009586/versions/10). 
> 1. Перемістіть завантажений zip-файл у каталог `data`.
> 2. Після переміщення даних розпакуйте всі файли.
{: .challenge}

Після завершення переміщення даних у новий каталог,
ваш каталог даних повинен виглядати наступним чином:

 ```
 data/
    gapminder_data.csv
    NEON-DS-Airborne-Remote-Sensing/
    NEON-DS-Landsat-NDVI/
    NEON-DS-Met-Time-Series/
    NEON-DS-Site-Layout-Files/
    NEON-DS-Airborne-Remote-Sensing.zip
    NEON-DS-Landsat-NDVI.zip
    NEON-DS-Met-Time-Series.zip
    NEON-DS-Site-Layout-Files.zip
    nordic-data.csv
    nordic-data-2.csv
 ```


### Розділяйте свої скрипти
Створення окремих R-скриптів або документів з R-розміткою для різних етапів проєкту підвищить ефективність. 
Наприклад, відокремлення команд завантаження даних в окремий файл означає, що ви не будете повторно завантажувати дані без потреби.

